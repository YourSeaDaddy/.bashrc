#    _             _       ____            _
#   / \   _ __ ___| |__   | __ )  __ _ ___| |__  _ __ ___
#  / _ \ | '__/ __| '_ \  |  _ \ / _` / __| '_ \| '__/ __|
# / ___ \| | | (__| | | | | |_) | (_| \__ \ | | | | | (__
#/_/   \_\_|  \___|_| |_| |____/ \__,_|___/_| |_|_|  \___|
#
#
#
# ~/.bashrc
#

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

alias ls='ls --color=auto'
# 
# # Arch latest news
# if [ "$PS1" ] && [[ $(ping -c1 www.google.com 2>&-) ]]; then
# 	# The characters "£, §" are used as metacharacters. They should not be encountered in a feed...
# 	echo -e "$(echo $(curl --silent https://www.archlinux.org/feeds/news/ | sed -e ':a;N;$!ba;s/\n/ /g') | \
# 		sed -e 's/&amp;/\&/g
# 		s/&lt;\|&#60;/</g
# 		s/&gt;\|&#62;/>/g
# 		s/<\/a>/£/g
# 		s/href\=\"/§/g
# 		s/<title>/\\n\\n\\n   :: \\e[01;31m/g; s/<\/title>/\\e[00m ::\\n/g
# 		s/<link>/ [ \\e[01;36m/g; s/<\/link>/\\e[00m ]/g
# 		s/<description>/\\n\\n\\e[00;37m/g; s/<\/description>/\\e[00m\\n\\n/g
# 		s/<p\( [^>]*\)\?>\|<br\s*\/\?>/\n/g
# 		s/<b\( [^>]*\)\?>\|<strong\( [^>]*\)\?>/\\e[01;30m/g; s/<\/b>\|<\/strong>/\\e[00;37m/g
# 		s/<i\( [^>]*\)\?>\|<em\( [^>]*\)\?>/\\e[41;37m/g; s/<\/i>\|<\/em>/\\e[00;37m/g
# 		s/<u\( [^>]*\)\?>/\\e[4;37m/g; s/<\/u>/\\e[00;37m/g
# 		s/<code\( [^>]*\)\?>/\\e[00m/g; s/<\/code>/\\e[00;37m/g
# 		s/<a[^§|t]*§\([^\"]*\)\"[^>]*>\([^£]*\)[^£]*£/\\e[01;31m\2\\e[00;37m \\e[01;34m[\\e[00;37m \\e[04m\1\\e[00;37m\\e[01;34m ]\\e[00;37m/g
# 		s/<li\( [^>]*\)\?>/\n \\e[01;34m*\\e[00;37m /g
# 		s/<!\[CDATA\[\|\]\]>//g
# 		s/\|>\s*<//g
# 		s/ *<[^>]\+> */ /g
# 		s/[<>£§]//g')\n\n";
# fi

PS1='\[\e[97m\u\]@\e[96m\h\]] \w $ '

#list
alias ls='ls --color=auto'
alias la='ls -a'
alias ll='ls -la'
alias l='ls'
alias l.="ls -A | egrep '^\.'"
alias back='cd..'



#Custom
#
#
#
#

#Pacman
#alias update='sudo ./update.sh'
alias update='sudo pacman -Syu'
alias yupdate='yay -Syu'
alias cache='sudo paccache -r'

#Obvio
alias r='ranger'
alias e='exit'
alias pacman='sudo pacman'
alias search='sudo pacman -Ss'
alias remove='sudo pacman -Rns '
alias depend='sudo pacman -Qi'
alias install='sudo pacman -S'
alias chmod='sudo chmod'
alias chown='sudo chown'
alias mkdir='sudo mkdir'
alias nano='sudo nano'
alias systemctl='sudo systemctl'

#Power Management
alias sdn='sudo shutdown -h now'
alias sr="sudo reboot"
alias hib='sudo systemctl hibernate'
alias suspend='sudo systemctl suspend'
alias coffee='xset s off -dpms'

#Configs
alias config='nano .config/i3/config'
alias i3bar='nano .i3status.conf'
alias ipv6='sudo nano /etc/sysctl.d/40-ipv6.conf'
alias update-grub="sudo grub-mkconfig -o /boot/grub/grub.cfg"
alias display='sudo nano .Xresources'


alias umount='sudo umount'
alias pmount-list='nano /etc/pmount.allow'
alias uz='aunpack'

#Network
alias fw='sudo ufw status numbered'
alias fwf='sudo ufw disable'
alias fwn='sudo ufw enable'
alias test='ping -c2 9.9.9.9'
alias nwr='sudo systemctl restart NetworkManager'
alias ip='curl icanhazip.com'
alias speed='speedtest'
alias vmfix='sudo modprobe -a vmw_vmci vmmon vmnet'
alias vmnetwork='sudo systemctl start vmware-networks.service'
alias mac='sudo ifconfig wlp0s20f3 down && sudo macchanger -r wlp0s20f3 && sudo ifconfig wlp0s20f3 up'
alias macshow='macchanger wlp0s20f3 -s'
alias tailscale='sudo systemctl start tailscaled && sudo tailscale up --shields-up --accept-dns=false --accept-routes'
alias clients='sudo tailscale status'
alias dev='ssh root@172.31.125.4'
alias wifi='nmtui'
#Sensors
alias gpu='optimus-manager --status'
alias cpu='cd /sys/devices/platform/coretemp.0/hwmon && ls && cd'
alias s='sensors | grep Core && sensors | grep fan'

#Random
alias calen='calcurse'
alias neo='neofetch --w3m ~/Downloads/Icons/mrtowley.png'
alias weather='curl wttr.in/78251'
alias space='df -hT'
alias clock='tty-clock -xct -C4'
alias birth='stat -c %w /'
alias name='uname -r'
alias logout='figlet See you space cowboy | lolcat'
alias dont='espeak -s 150 -v en+f2 "dont worry about it"'
#No Use
#alias speedtest='./librespeed-cli'
#alias email='neomutt'
alias spotify='cd /usr/share/applications && gtk-launch spotify-adblock.desktop && cd'
































#fix obvious typo's
alias cd..='cd ..'
alias pdw="pwd"
alias udpate='sudo pacman -Syu'
## Colorize the grep command output for ease of use (good for log files)##
alias grep='grep --color=auto'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'

#readable output
alias df='df -h'

#pacman unlock
alias unlock="sudo rm /var/lib/pacman/db.lck"
alias rmpacmanlock="sudo rm /var/lib/pacman/db.lck"

#arcolinux logout unlock
alias rmlogoutlock="sudo rm /tmp/arcologout.lock"

#free
alias free="free -mt"

#use all cores
alias uac="sh ~/.bin/main/000*"

#continue download
alias wget="wget -c"

#userlist
alias userlist="cut -d: -f1 /etc/passwd"

#merge new settings
alias merge="xrdb -merge ~/.Xresources"

# Aliases for software managment
# pacman or pm
alias pacman='sudo pacman --color auto'

#skip integrity check
alias yayskip='yay -S --mflags --skipinteg'


#check vulnerabilities microcode
alias microcode='grep . /sys/devices/system/cpu/vulnerabilities/*'

#get fastest mirrors in your neighborhood
alias mirror="sudo reflector -f 30 -l 30 --number 10 --verbose --save /etc/pacman.d/mirrorlist"
alias mirrord="sudo reflector --latest 50 --number 20 --sort delay --save /etc/pacman.d/mirrorlist"
alias mirrors="sudo reflector --latest 50 --number 20 --sort score --save /etc/pacman.d/mirrorlist"
alias mirrora="sudo reflector --latest 50 --number 20 --sort age --save /etc/pacman.d/mirrorlist"

#shopt
shopt -s autocd # change to named directory
shopt -s cdspell # autocorrects cd misspellings
shopt -s cmdhist # save multi-line commands in history as single line
shopt -s dotglob
shopt -s histappend # do not overwrite history
shopt -s expand_aliases # expand aliases

#youtube-dl
alias yta-aac="youtube-dl --extract-audio --audio-format aac "
alias yta-best="youtube-dl --extract-audio --audio-format best "
alias yta-flac="youtube-dl --extract-audio --audio-format flac "
alias yta-m4a="youtube-dl --extract-audio --audio-format m4a "
alias yta-mp3="youtube-dl --extract-audio --audio-format mp3 "
alias yta-opus="youtube-dl --extract-audio --audio-format opus "
alias yta-vorbis="youtube-dl --extract-audio --audio-format vorbis "
alias yta-wav="youtube-dl --extract-audio --audio-format wav "

alias ytv-best="youtube-dl -f bestvideo+bestaudio "

#Recent Installed Packages
alias rip="expac --timefmt='%Y-%m-%d %T' '%l\t%n %v' | sort | tail -200 | nl"
alias riplong="expac --timefmt='%Y-%m-%d %T' '%l\t%n %v' | sort | tail -3000 | nl"

#Cleanup orphaned packages
alias cleanup='sudo pacman -Rns $(pacman -Qtdq)'

#get the error messages from journalctl
alias jctl="journalctl -p 3 -xb"

#nano for important configuration files
#know what you do in these files
alias nlightdm="sudo nano /etc/lightdm/lightdm.conf"
alias npacman="sudo nano /etc/pacman.conf"
alias ngrub="sudo nano /etc/default/grub"
alias nmkinitcpio="sudo nano /etc/mkinitcpio.conf"
alias nslim="sudo nano /etc/slim.conf"
alias noblogout="sudo nano /etc/oblogout.conf"
alias nmirrorlist="sudo nano /etc/pacman.d/mirrorlist"
alias nconfgrub="sudo nano /boot/grub/grub.cfg"
alias bls="betterlockscreen -u /usr/share/backgrounds/arcolinux/"

#gpg
#verify signature for isos
alias gpg-check="gpg2 --keyserver-options auto-key-retrieve --verify"
#receive the key of a developer
alias gpg-retrieve="gpg2 --keyserver-options auto-key-retrieve --receive-keys"


# # ex = EXtractor for all kinds of archives
# # usage: ex <file>
ex ()
{
  if [ -f $1 ] ; then
    case $1 in
      *.tar.bz2)   tar xjf $1   ;;
      *.tar.gz)    tar xzf $1   ;;
      *.bz2)       bunzip2 $1   ;;
      *.rar)       unrar x $1   ;;
      *.gz)        gunzip $1    ;;
      *.tar)       tar xf $1    ;;
      *.tbz2)      tar xjf $1   ;;
      *.tgz)       tar xzf $1   ;;
      *.zip)       unzip $1     ;;
      *.Z)         uncompress $1;;
      *.7z)        7z x $1      ;;
      *.deb)       ar x $1      ;;
      *.tar.xz)    tar xf $1    ;;
      *.tar.zst)   unzstd $1    ;;      
      *)           echo "'$1' cannot be extracted via ex()" ;;
    esac
  else
    echo "'$1' is not a valid file"
  fi
}

#create a file called .bashrc-personal and put all your personal aliases
#in there. They will not be overwritten by skel.

[[ -f ~/.bashrc-personal ]] && . ~/.bashrc-personal



# Add RVM to PATH for scripting. Make sure this is the last PATH variable change.
export PATH="$PATH:$HOME/.rvm/bin"

bind -s 'set completion-ignore-case on'
